<main>
  <section class="section">
    <div class="container-fluid mt-5">
      <div class="filter-container">
        <div class="input-group radio-column">
          <div class="form-group">
            <h5 for="facility" class="title-filter">Cơ sở</h5>
            <select [(ngModel)]="selectedFacility" (change)="onFacilityChange($event.target.value)" class="form-control facility-select" name="facility" id="facility">
              <option *ngFor="let facility of facilities" [value]="facility.id" [selected]="facility.id === facilities[0].id" >{{ facility.name }}</option>
            </select>
          </div>
        </div>
        <div class="input-group radio-column">
          <h5 class="title-filter">Danh mục </h5>
          <div class="list-block">
            <div class="block-item" [ngClass]="{'select': !selectedCategory}" (click)="onCategoryClicked()">
              Tất cả
            </div>
            <div class="block-item" [ngClass]="{'select': selectedCategory == category.name}" *ngFor="let category of categories" (click)="onCategoryClicked(category.name)">
              {{ category.name }}
            </div>
          </div>
        </div>
        <div class="input-group radio-column">
          <h5 for="suppliers" class="title-filter">Nhà cung cấp</h5>
          <div class="list-block">
            <div class="block-item" [ngClass]="{'select': !selectedSupplier}" (click)="onSupplierClicked()">
              Tất cả
            </div>
            <div class="block-item" [ngClass]="{'select': selectedSupplier == supplier.id}" *ngFor="let supplier of suppliers" (click)="onSupplierClicked(supplier.id)">
              {{supplier.name}}
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="card shadow" style="box-shadow: none !important;">
            <div class="card-header border-0">
              <div class="row align-items-center">
                <div class="col-10">
                  <h3 class="mb-0">Sản phẩm</h3>
                </div>
              </div>
            </div>
            <div style="padding-top: 1rem; background-color: #eff0f1">
              <div class="products-container">
                <div class="product-row" *ngFor="let row of productsByRow">
                  <div class="product-card" *ngFor="let product of row" (click)="handleCardClick(product.code)">
                    <img class="card-image" [src]="product.imagePath">
                    <div class="product-meta">{{product.name}}</div>
                    <div class="product-meta price d-flex justify-content-between align-items-center"><span>{{product.price | currency:'VND':'symbol':null:'vi-VN'}}</span> <span style="font-size: 12px;">{{product.status}}</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>